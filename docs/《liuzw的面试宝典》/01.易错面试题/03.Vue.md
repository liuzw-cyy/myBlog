---
title: Vue
date: 2022-06-02 14:57:04
permalink: /pages/61d5eb/
categories:
  - 《liuzw的面试宝典》
tags:
  - 面试
author:
  name: liuzw
  link: https://github.com/liuzw-cyy
---
#### 1. Vue响应式原理？
Vue采用数据劫持结合发布-订阅模式的方式，通过`Object.defineProperty()`来劫持各个属性的`setter`和`getter`，在数据变动时发布消息给订阅者，触发相应的更新函数。

**Observer(数据监听器)**: `Observer`通过`Object.defineProprtty()`方法来监听数据的变动，定义`get`和`set`函数，并为每个属性添加一个属性订阅器`dep`*数组*。在数据被读取时触发`getter`方法往`dep`里面添加`Watcher`。在数据发生变化的时候先找到对应的`Dep`，通知所有`Watcher`执行更新函数。

**Watcher(订阅者)**: `Watcher`作为`Observer`和`Compile`之间通信的桥梁，当数据变动时执行`Compile`中绑定的更新函数。

**Compile(指令解析器)**: 解析模板指令，将模板中变量替换成数据，当数据有变动时收到通知，更新页面视图。