---
title: Vue
date: 2022-06-02 14:57:04
permalink: /pages/61d5eb/
categories:
  - 《liuzw的面试宝典》
tags:
  -
author:
  name: liuzw
  link: https://github.com/liuzw-cyy
---
#### 1. Vue响应式原理？
Vue采用数据劫持结合发布-订阅模式的方式，通过 **Object.defineProperty()** 来劫持各个属性的setter和getter，在数据变动时发布消息给订阅者，触发相应的监听回调。

**Observer（数据监听器）** : Observer的核心是通过Object.defineProprtty()来监听数据的变动。在数据发生变化的时候触发setter方法通知订阅者Watcher。

**Watcher（订阅者）** : Watcher作为Observer和Compile之间通信的桥梁，主要做的事情是：
1.  在自身实例化时往属性订阅器(dep)里面添加自己；
2.  自身必须有一个update()方法；
3.  待属性变动dep.notice()通知时，能调用自身的update()方法，并执行Compile中绑定的回调函数。

**Compile（指令解析器）** : 解析模板指令，将模板中变量替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加鉴定数据的订阅者，当数据有变动时收到通知，更新页面视图。